<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zsc.servicedata.mapper.CityMapper">

    <resultMap id="CityCodeMap" type="model.weather.AreaCode">
        <id column="id" property="id" jdbcType="BIGINT"/>
        <result column="city" property="city" jdbcType="VARCHAR"/>
        <result column="area" property="area" jdbcType="VARCHAR"/>
        <result column="areaCode" property="areaCode" jdbcType="VARCHAR"/>
        <result column="postalCode" property="postalCode" jdbcType="VARCHAR"/>
    </resultMap>

    <insert id="insertAreaCode">
        insert into areacode (city,area,areaCode,postalCode) values
        <foreach collection="list" item="item" index="index" separator="," close=";">
            (#{item.city},#{item.area},#{item.areaCode},#{item.postalCode})
        </foreach>
    </insert>

    <insert id="saveSiteOfCity" parameterType="java.util.Map">
        insert into citysite (area,siteName) values
        <foreach collection="list" item="item" index="index" separator="," close=";">
            (#{city},#{item})
        </foreach>
    </insert>

    <select id="selectCodeByAreaName" resultMap="CityCodeMap">
--         select * from areacode where city like '%${city}%' and area like '%${area}%'
        select * from areacode where city like "%"#{city}"%" and area like "%"#{area}"%"
    </select>
</mapper>